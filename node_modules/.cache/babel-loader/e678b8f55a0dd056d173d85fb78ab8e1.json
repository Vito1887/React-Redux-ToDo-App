{"ast":null,"code":"var _jsxFileName = \"/Users/user/WebstormProjects/github/React-Redux-ToDo-App/src/components/App.tsx\",\n  _s = $RefreshSig$();\nimport { Button } from 'src/components/atoms/buttons/Button';\nimport { EmptyItem } from 'src/components/molecules/EmptyItem';\nimport { PostFilter } from 'src/components/molecules/PostFilter';\nimport { PostList } from 'src/components/molecules/PostList';\nimport { PostForm } from 'src/components/organisms/forms/PostForm';\nimport { CreatePost } from 'src/components/routes/modals/CreatePost';\nimport { usePosts } from 'src/hooks/usePosts';\nimport { addItem, clearItems, removeItem, updateItem } from 'src/redux/reducers/posts';\nimport 'src/styles/App.css';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const App = () => {\n  _s();\n  const dispatch = useDispatch();\n  const {\n    items,\n    totalCount\n  } = useSelector(state => state.posts);\n  const posts = items || [];\n  const [filter, setFilter] = useState({\n    sort: '',\n    query: ''\n  });\n  const [modal, setModal] = useState(false);\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\n  const createPost = newPost => {\n    const updatingPosts = [...posts, newPost];\n    dispatch(addItem(updatingPosts));\n    setModal(false);\n  };\n  let clone = [];\n  for (const key in items) {\n    clone = clone.concat(items[key]);\n  }\n  clone.push({\n    id: 9,\n    title: 'urra',\n    body: 'ddd'\n  });\n  console.log(clone);\n  const updatePost = post => {\n    dispatch(updateItem(post));\n    setModal(false);\n  };\n  const removePost = id => dispatch(removeItem(id));\n  const clearAll = () => dispatch(clearItems());\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    \"data-testid\": \"page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => setModal(true),\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: clearAll,\n        children: \"\\u041E\\u0447\\u0438\\u0441\\u0442\\u0438\\u0442\\u044C \\u0432\\u0441\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"\\u0412\\u0441\\u0435\\u0433\\u043E \\u0437\\u0430\\u043C\\u0435\\u0442\\u043E\\u043A: \", totalCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      className: \"hr\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostFilter, {\n      filter: filter,\n      setFilter: setFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostList, {\n      update: updatePost,\n      remove: removePost,\n      posts: sortedAndSearchedPosts,\n      title: \"\\u041C\\u043E\\u0438 \\u0437\\u0430\\u043C\\u0435\\u0442\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"footer\",\n      children: /*#__PURE__*/_jsxDEV(EmptyItem, {\n        create: createPost,\n        modal: modal,\n        setModal: setModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CreatePost, {\n      visible: modal,\n      setVisible: setModal,\n      children: /*#__PURE__*/_jsxDEV(PostForm, {\n        update: createPost,\n        setModal: setModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"mEnvFTdUr2ake16eqPJf05KmI4s=\", false, function () {\n  return [useDispatch, useSelector, usePosts];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Button","EmptyItem","PostFilter","PostList","PostForm","CreatePost","usePosts","addItem","clearItems","removeItem","updateItem","React","useState","useDispatch","useSelector","jsxDEV","_jsxDEV","App","_s","dispatch","items","totalCount","state","posts","filter","setFilter","sort","query","modal","setModal","sortedAndSearchedPosts","createPost","newPost","updatingPosts","clone","key","concat","push","id","title","body","console","log","updatePost","post","removePost","clearAll","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","update","remove","create","visible","setVisible","_c","$RefreshReg$"],"sources":["/Users/user/WebstormProjects/github/React-Redux-ToDo-App/src/components/App.tsx"],"sourcesContent":["import { Button } from 'src/components/atoms/buttons/Button';\nimport { EmptyItem } from 'src/components/molecules/EmptyItem';\nimport { PostFilter } from 'src/components/molecules/PostFilter';\nimport { PostList } from 'src/components/molecules/PostList';\nimport { PostForm } from 'src/components/organisms/forms/PostForm';\nimport { CreatePost } from 'src/components/routes/modals/CreatePost';\nimport { usePosts } from 'src/hooks/usePosts';\nimport { ReduxState } from 'src/redux/reducers';\nimport {\n  addItem,\n  clearItems,\n  removeItem,\n  updateItem,\n} from 'src/redux/reducers/posts';\nimport 'src/styles/App.css';\nimport { Post } from 'src/types.ts';\n\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nexport const App: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const { items, totalCount } = useSelector((state: ReduxState) => state.posts);\n\n  const posts = items || [];\n\n  const [filter, setFilter] = useState({ sort: '', query: '' });\n\n  const [modal, setModal] = useState(false);\n\n  const sortedAndSearchedPosts = usePosts(posts, filter.sort, filter.query);\n\n  const createPost = (newPost: Post) => {\n    const updatingPosts = [...posts, newPost];\n\n    dispatch(addItem(updatingPosts));\n\n    setModal(false);\n  };\n\n  let clone: Post[] = [];\n\n  for (const key in items) {\n    clone = clone.concat(items[key]);\n  }\n  clone.push({ id: 9, title: 'urra', body: 'ddd' });\n  console.log(clone);\n\n  const updatePost = (post: Post) => {\n    dispatch(updateItem(post));\n\n    setModal(false);\n  };\n\n  const removePost = (id?: number) => dispatch(removeItem(id));\n\n  const clearAll = () => dispatch(clearItems());\n\n  return (\n    <div className=\"app\" data-testid=\"page\">\n      <div className=\"header\">\n        <Button onClick={() => setModal(true)}>Добавить заметку</Button>\n\n        <Button onClick={clearAll}>Очистить все</Button>\n\n        <h4>Всего заметок: {totalCount}</h4>\n      </div>\n\n      <hr className=\"hr\" />\n\n      <PostFilter filter={filter} setFilter={setFilter} />\n\n      <PostList\n        update={updatePost}\n        remove={removePost}\n        posts={sortedAndSearchedPosts}\n        title=\"Мои заметки\"\n      />\n\n      <div className=\"footer\">\n        <EmptyItem create={createPost} modal={modal} setModal={setModal} />\n      </div>\n\n      <CreatePost visible={modal} setVisible={setModal}>\n        <PostForm update={createPost} setModal={setModal} />\n      </CreatePost>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}